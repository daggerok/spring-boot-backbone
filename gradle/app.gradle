task 'npm install'(type: Exec) {
  workingDir './app'
  executable 'bash'
  args '-c', 'npm install'
}

['npm run build', 'npm start'].each { npmCommand ->
  tasks.create(name: npmCommand, type: Exec, dependsOn: ['npm install']) {
    workingDir './app'
    executable 'bash'
    args '-c', npmCommand
  }
}
